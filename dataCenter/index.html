<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>后台管理系统</title>
    <link href="/app.css" type="text/css" rel="stylesheet" />
    <link href="/resource/css/bootstrap.css" type="text/css" rel="stylesheet" />
    <script src="/core/tools/keyMap.js"></script>
    <script src="/core/tools/event.js"></script>
    <script src="/core/tools/cache.js"></script>
    <script src="/core/tools/baseObject.js"></script>
</head>
<body>
    <div id="example"></div>
</body>
</html>
<script>
//    var arr = ["a","b","c","d"];
//
//    var count = 0;
//    (function(arr){
//        if(count == arr.length){
//            return;
//        }
//        count++;
//        var arg = arguments;
//        window.setTimeout(function(){ arg.callee(arr) },2000);
//    })(arr);

    var a = [{name:1},{name:2},{name:3},{name:4},{name:5},{name:6}];

    var b = a.filter(function(item,index,array){
        return item.name > 3;
    })

    var c = a.reduce(function(prev,next,index,array){
        var tmp = prev;
        if(prev instanceof Object){
            tmp = prev.name;
        }
        return tmp + next.name;
    })

    function sum(a,b){
        return a + b;
    }
//    alert(sum(1,2));
    var s1 = sum;
//    alert(s1(2,2));

    sum = null;

    function out(){
        inner();
    }
    function inner(){
        alert(arguments.callee.caller);
    }
//    out();

    var Person = function(){
        this.name = "";
        this.arr = [1,2,3];
    }
    Person.prototype.sayName = function(){
        return this.name;
    }

    var Man = function(){
        Person.apply(this,arguments);
        this.age = "12";
    }
    Man.prototype = Person.prototype;
    Man.prototype.constructor = Man;

    var m1 = new Man();
    var m2 = new Man();

    m1.arr.push(4);
    console.log("xxxxx",m2.arr);
    console.log("qqqqq",m1.arr);

    function aaa(){
        var result = [];
        for(var i=0;i<10;i++){
           (function(index){
               result[index] =  function(){
                   console.log(this);
                   return index;
               }
           })(i)
        }
        return result;
    }

    aaa()[0].apply();

    function abc(){
        return 1;
    }
    abc.apply();

    arr1 = [1,2,3];
    arr2 = [4,5,6];
    Array.prototype.push.apply(arr1,arr2);
    //result ==> arr1 = [1,2,3,4,5,6]


    var a={t:1};
    var b={t:100};
    (function(){
        this.t++;
    }).apply(b);
    console.log(a);
    console.log(b);

    console.log(Object.prototype.constructor.prototype);
    console.log(m1.__proto__.__proto__.__proto__);

    var PerformanceTool = function(){

        this.apiArray = [];

        this.start = 0;
        this.end = 0;

        this.checkKeyExist = function(apiKey){
            return this.apiArray.some(function(item){
                return item.key == apiKey;
            })
        }

        this.setStart = function(){
            this.start = new Date().getTime();
        }

        this.compare = function(apiKey){
            if(this.checkKeyExist(apiKey)){
                return;
            }
            this.end = new Date().getTime();
            if(this.start == 0){
                console.log("["+apiKey+"] must set Start function.");
            }else{
                var result = this.end - this.start;
                this.apiArray.push({key:apiKey,val:result});
                this.start = 0;
                console.log("[" + apiKey + "] request time is:" + result + " ms");
            }
        }
    }

    var performanceTool = new PerformanceTool();

</script>
<script src="/build/bundle.js"></script>
