webpackJsonp([2],{130:function(t,e){},147:function(t,e,o){"use strict";var n,a=o(0),i=o.n(a),r=o(25),s=o(148),c=o(149),p=o(150),l=o(130),_=o.n(l),u=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),h=function(t){function e(e){var o=t.call(this,e)||this;return o.state={data:[],cols:o.props.options.map,ck:!1,pageOption:{index:o.props.options.pageOption.index?o.props.options.pageOption.index:1,size:o.props.options.pageOption.size?o.props.options.pageOption.size:10,count:0,total:0}},o.option=o.props.options,o.analysis=o.option.analysis,o.showCk=!!o.option.showCk,o.actions=o.option.actions,o.getUrl=o.option.getUrl,o.noticeChangeCols=o.noticeChangeCols.bind(o),o.accpetHBNotice=o.accpetHBNotice.bind(o),o.goToIndex=o.goToIndex.bind(o),o.prev=o.prev.bind(o),o.next=o.next.bind(o),o.getCheckedItems=o.getCheckedItems.bind(o),o.originCols=r.a.object.cloneObj(o.props.options.map),o}return u(e,t),e.prototype.componentDidMount=function(){this.getData(this.state.pageOption.index)},e.prototype.getData=function(t){var e=this;t||(t=1);var o=this.getUrl();if(""!==o){var n=-1===o.indexOf("?")?"?":"&",a=this.state.pageOption.size;o+=n+this.option.pageOption.indexKey+"="+t+"&"+this.option.pageOption.sizeKey+"="+a,r.a.ajaxServer.doFetch(o,"get",null).then(function(o){var n=e.analysis(o);if(n.data&&n.data instanceof Array&&0!=n.data.length){var i=r.a.arrayServer.addPrimaryAndCk(n.data),s=-1;s=parseInt(n.count)%a==0?parseInt(n.count)/a:parseInt(parseInt(n.count)/a)+1,e.setState({data:i,pageOption:{index:t,count:i.length,total:s,size:a}})}else console.log("检查analysis, getUrl, pageOption参数!")})}},e.prototype.getCheckedItems=function(){return this.state.data&&this.state.data instanceof Array?this.state.data.filter(function(t,e,o){return t.ck}):[]},e.prototype.getParams=function(){return{index:this.state.pageOption.index,data:this.state.data}},e.prototype.noticeChangeCols=function(t){this.setState({cols:t})},e.prototype.accpetHBNotice=function(t,e){if(t&&(this.state.data.map(function(e){e.ck=t.ck}),this.setState({data:this.state.data,ck:t.ck})),e){var o=r.a.arrayServer.getCheckedItems(e.data,"__tmpId").items.length==this.state.data.length;this.setState({data:e.data,ck:o})}},e.prototype.next=function(){if(!(this.state.pageOption.index>=this.state.pageOption.count)){var t=this.state.pageOption.index;t++,this.getData(t)}},e.prototype.prev=function(){if(!(this.state.pageOption.index<=1)){var t=this.state.pageOption.index;t--,this.getData(t)}},e.prototype.goToIndex=function(t){this.getData(t)},e.prototype.getBodyComp=function(){return 0==this.state.data.length?i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null," data is null "))):i.a.createElement(c.a,{actions:this.actions,data:this.state.data,cols:this.state.cols,accpetHBNotice:this.accpetHBNotice,showCk:this.showCk})},e.prototype.getPagingComp=function(){return 0==this.state.data.length?i.a.createElement("div",null,"data is null"):i.a.createElement(p.a,{goNext:this.next,goPrev:this.prev,goIndex:this.goToIndex,options:this.state.pageOption})},e.prototype.getHeaderComp=function(){return this.state.cols&&this.state.cols instanceof Array!=0&&0!=this.state.cols.length?i.a.createElement(s.a,{originCols:this.originCols,accpetHBNotice:this.accpetHBNotice,noticeChangeCols:this.noticeChangeCols,ck:this.state.ck,actions:this.actions,cols:this.state.cols,showCk:this.showCk}):i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("td",null," data is null ")))},e.prototype.render=function(){return i.a.createElement("div",{className:_.a.panel_table+" text-center"},i.a.createElement("div",{className:_.a.overflow_table},i.a.createElement("table",null,this.getHeaderComp(),this.getBodyComp())),this.getPagingComp())},e}(i.a.Component);e.a=h},148:function(t,e,o){"use strict";var n,a=o(0),i=o.n(a),r=o(25),s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=function(t){function e(e){var o=t.call(this,e)||this;return o.showCk=o.props.showCk,o.actions=o.props.actions,o.setAll=o.setAll.bind(o),o.reSetCols=o.reSetCols.bind(o),o.ck=o.props.ck,o.allKey=Math.random(),o.checkedItems=r.a.arrayServer.addPrimaryAndCk(r.a.object.cloneObj(o.props.originCols),!0),o.originCols=o.props.originCols,o.itemCheckChange=o.itemCheckChange.bind(o),o.cols=o.props.cols,o.ck=o.props.ck,o}return s(e,t),e.prototype.shouldComponentUpdate=function(t,e){var o=this.ck==t.ck;return!(r.a.object.equalsObject(this.cols,t.cols)&&o)},e.prototype.componentWillReceiveProps=function(t){},e.prototype.setAll=function(){this.props.accpetHBNotice({ck:!this.ck},null)},e.prototype.colsLen=function(){var t=this,e=[];return this.checkedItems.map(function(o,n){e.push(i.a.createElement("p",{key:Math.random()},i.a.createElement("input",{type:"checkbox",defaultChecked:o.ck,onClick:function(e){t.itemCheckChange(o,e)}}),i.a.createElement("span",null,o.val)))}),e},e.prototype.itemCheckChange=function(t,e){t.ck=!t.ck,e.target.checked=t.ck},e.prototype.reSetCols=function(){var t=r.a.arrayServer.getCheckedItems(this.checkedItems).items;this.props.noticeChangeCols(t)},e.prototype.getHeaderHTML=function(){var t=[];return this.showCk&&t.push(i.a.createElement("th",{className:"text-center",key:Math.random()},i.a.createElement("input",{checked:this.ck,type:"checkbox",onChange:this.setAll}))),this.actions&&0!=this.actions.length&&t.push(i.a.createElement("th",{className:"text-center",key:Math.random(),className:"thCols"},"操作",i.a.createElement("div",{className:"colsModal"},this.colsLen(),i.a.createElement("div",{className:"bot"},i.a.createElement("button",{className:"btn"},"取消"),i.a.createElement("button",{className:"btn",onClick:this.reSetCols},"确定"))))),this.cols.map(function(e){t.push(i.a.createElement("th",{key:Math.random()},e.val))}),t},e.prototype.render=function(){return this.cols=this.props.cols,this.ck=this.props.ck,console.log("%crender header","color:red"),i.a.createElement("thead",null,i.a.createElement("tr",null,this.getHeaderHTML()))},e}(i.a.Component);e.a=c},149:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__=__webpack_require__(25),__extends=this&&this.__extends||(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),extendStatics,Body=function(_super){function Body(t){var e=_super.call(this,t)||this;return e.showCk=e.props.showCk,e.actions=e.props.actions,e.selectRow=e.selectRow.bind(e),e.data=e.props.data,e.cols=e.props.cols,e.oldData=__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__.a.object.cloneObj(e.props.data),e}return __extends(Body,_super),Body.prototype.shouldComponentUpdate=function(t,e){var o=__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__.a.object.equalsObject(this.oldData,t.data),n=__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__.a.object.equalsObject(this.cols,t.cols);return!(o&&n)},Body.prototype.componentWillReceiveProps=function(t){},Body.prototype.getCeilHTML=function(row){var col=[];if(this.showCk&&col.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("td",{key:Math.random(),className:"text-center"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("input",{defaultChecked:row.ck,type:"checkbox"}))),this.actions&&0!=this.actions.length){var tmp_1=[];this.actions.map(function(t){tmp_1.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("a",{className:"btn btn-default btn-xs",key:Math.random(),onClick:function(e){return t.action(row)}},t.val))}),col.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("td",{key:Math.random(),className:"text-center"},tmp_1))}return this.cols.map(function(item){var key=item.key,val="";if("boolean"==typeof row[key])val=row[key].toString();else{var v="row."+item.key,tmp=eval("("+v+")");if(void 0==tmp)val="";else{var type=item.type;if(type)switch(type=type.toLowerCase(),type){case"date":val=__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__.a.date.date(tmp);break;case"datetime":val=__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__.a.date.dateTime(tmp);break;case"time":val=__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__.a.date.time(tmp);break;default:val=tmp}else val=tmp}}item.convert&&item.action?col.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("td",{className:"text-center",key:Math.random()},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("a",{onClick:function(t){return item.action(row,item)}},item.convert(row,item)))):item.convert&&!item.action?col.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("td",{className:"text-center",key:Math.random()},item.convert(row,item))):!item.convert&&item.action?col.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("td",{className:"text-center",key:Math.random()},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("a",{onClick:function(t){return item.action(row,item)}},val))):col.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("td",{className:"text-center",key:Math.random()},val))}),col},Body.prototype.selectRow=function(t,e){e.ck=!e.ck,this.props.accpetHBNotice(null,{data:this.data})},Body.prototype.getBodyHTML=function(){var t=this,e=[];return this.data.map(function(o){e.push(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("tr",{key:Math.random(),onClick:function(e){return t.selectRow(e,o)}},t.getCeilHTML(o)))}),e},Body.prototype.render=function(){return this.data=this.props.data,this.cols=this.props.cols,this.oldData=__WEBPACK_IMPORTED_MODULE_1__tools_util_jsx__.a.object.cloneObj(this.props.data),console.log("%crender body","color:blue"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("tbody",null,this.getBodyHTML())},Body}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);__webpack_exports__.a=Body},150:function(t,e,o){"use strict";var n,a=o(0),i=o.n(a),r=o(130),s=o.n(r),c=o(25),p=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),l=function(t){function e(e){var o=t.call(this,e)||this;return o.goIndex=o.goIndex.bind(o),o.pprev=o.pprev.bind(o),o.pnext=o.pnext.bind(o),o.goIndexKey=Math.ceil(1e8*Math.random()),o}return p(e,t),e.prototype.shouldComponentUpdate=function(t,e){return!c.a.object.equalsObject(this.props.options,t.options)},e.prototype.componentWillReceiveProps=function(t){this.setState({options:t.options})},e.prototype.pprev=function(){this.props.goPrev()},e.prototype.pnext=function(){this.props.goNext()},e.prototype.goIndex=function(){this.props.goIndex(this.refs[this.goIndexKey].value)},e.prototype.render=function(){console.log("%c render paging","color:green");var t=this.props.options.index,e=this.props.options.count,o=this.props.options.total;return i.a.createElement("div",{className:s.a.paging+" text-right"},i.a.createElement("span",null,"共",i.a.createElement("em",null,e),"条"),i.a.createElement("input",{type:"button",title:"上一页",onClick:this.pprev,value:"<"}),i.a.createElement("input",{type:"button",title:"下一页",onClick:this.pnext,value:">"}),i.a.createElement("span",null,"当前第",i.a.createElement("em",null,t),"/",i.a.createElement("em",null,o),"页"),i.a.createElement("span",null,"到 ",i.a.createElement("input",{type:"text",ref:this.goIndexKey})," 页"),i.a.createElement("input",{type:"button",value:"确定",onClick:this.goIndex.bind(this)}))},e}(i.a.Component);e.a=l},98:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=o(0),i=o.n(a),r=o(147),s=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=function(t){function e(e){var o=t.call(this,e)||this;return o.action=o.action.bind(o),o.convert=o.convert.bind(o),o.edit=o.edit.bind(o),o.run=o.run.bind(o),o.change=o.change.bind(o),o.search=o.search.bind(o),o.tableOptions={actions:[{key:"edit",val:"修改",action:o.edit},{key:"run",val:"Run",action:o.run}],showCk:!0,map:[{key:"describe",val:"测试用例描述",action:o.action},{key:"operator",val:"操作人",convert:o.convert},{key:"operator",val:"操作人2",convert:o.convert,action:o.action},{key:"runTime",val:"操作时间",type:"date"},{key:"runTime",val:"操作时间1",type:"datetime"},{key:"runTime",val:"操作时间2",type:"time"},{key:"items.length",val:"用例个数"}],getUrl:function(){return"/api/at/list?describe="},pageOption:{sizeKey:"size",indexKey:"index",index:1,size:10},analysis:function(t){return{data:t.data.data,count:t.data.count}}},o}return s(e,t),e.prototype.edit=function(t){alert("edit "+t._id)},e.prototype.run=function(t){alert("run "+t._id)},e.prototype.action=function(t,e){alert(t._id)},e.prototype.convert=function(t,e){return"aaa"==t.operator?"管理员":t.operator},e.prototype.change=function(){var t=this.refs.tk.getCheckedItems();console.log("selected items is "+t)},e.prototype.search=function(){var t=this.refs.tk;t.getData(t.getParams().index)},e.prototype.render=function(){return i.a.createElement("div",null,i.a.createElement("input",{type:"button",onClick:this.change,value:"get"}),i.a.createElement("input",{type:"button",onClick:this.search,value:"search"}),i.a.createElement(r.a,{ref:"tk",options:this.tableOptions}))},e}(i.a.Component);e.default=c}});